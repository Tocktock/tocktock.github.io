---
layout: post
title: NestJS ë¸”ë¡œê·¸ ë§Œë“¤ê¸° - CRUD ë¡œ ì‹œì‘í•˜ì.
categories: NestJS
---

# 2. NestJS ë¸”ë¡œê·¸ ë§Œë“¤ê¸° - CRUD ë¡œ ì‹œì‘í•˜ì.

---

## ğŸ‘Œ NestJS ë¸”ë¡œê·¸ ë§Œë“¤ê¸° ì‹œë¦¬ì¦ˆì˜ ëª©ì 

ì €ëŠ” **NestJS ì „ë¬¸ê°€**ê°€ ì•„ë‹™ë‹ˆë‹¤.
ì € ë˜í•œ NestJS ë¡œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë ¤ê³  í•œì§€ í•œë‹¬ì´ ì±„ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

ë‹¤ë§Œ ì œê°€ ê³µë¶€í•˜ë©´ì„œ ìŠµë“í•˜ê³  ì´í•´í•œ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ê°„ë‹¨í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë©° ê¸°ë³¸ì ì¸ ì§€ì‹ì„
ì—¬ëŸ¬ë¶„ê»˜ ê°™ì´ **ê³µìœ **í•˜ëŠ” ê²ƒì´ ì œ ëª©ì ì…ë‹ˆë‹¤.

ëŒ€ë¶€ë¶„ì˜ ì •ë³´ëŠ” **NestJS Doc** , **Github** ë¥¼ ì°¸ê³ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì´ ì‹œë¦¬ì¦ˆëŠ”

- CRUD ê¸°ëŠ¥
- Postgresql DataBase ì—°ê²°
- Auth
- ë©”ì‹œì§€ í
- ê¸°íƒ€ ê¸°ëŠ¥ (ì¹´í†¡ ê³µìœ , ì¹´í†¡ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ê¸° ë“±)

ì˜ ë‚´ìš©ì„ ë‹¤ë£° ê²ƒ ì…ë‹ˆë‹¤.

ìš”êµ¬ì‚¬í•­ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

<img class="post-image-center" src="/assets/img/nest_blog_requirement.png" width="70%" alt="requirement"/>

ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•  ì˜ˆì •ì´ë‹ˆ ì œ [Github repository](https://github.com/Tocktock/nest-practice)ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.

ì‚¬ìš©í•˜ëŠ” IDE ëŠ” **VSCode** ì…ë‹ˆë‹¤.

> ì´í›„ ì¶”ê°€í•  ì‚¬í•­ì´ë‚˜ ìœ ìš©í•œ íŒì´ ìˆë‹¤ë©´ ë” ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.

ê¶ê¸ˆí•œ ì‚¬í•­ì´ë‚˜ ì œê°€ í‹€ë ¸ë‹¤ê³  ìƒê°í•˜ëŠ” ë¶€ë¶„ì´ ìˆë‹¤ë©´ ì–¸ì œë“  í”¼ë“œë°± í•´ì£¼ì„¸ìš”.

---

## ğŸ›´ NestJS ì–´í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘í•˜ê¸°.

NestJS ëŠ” Javascript ê¸°ë°˜ Typescript ì–¸ì–´ë¥¼ ì£¼ë¡œ ë‹¤ë£¹ë‹ˆë‹¤.
Javascript í™˜ê²½ì„ ìœ„í•´ì„œ Node.js ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ ë¨¼ì € í™•ì¸í•´ì£¼ì„¸ìš”.

> [Node.js ì„¤ì¹˜í•˜ê¸°](https://nodejs.org/en/)

NestJS ì„¤ì¹˜ë¥¼ ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•´ì£¼ì„¸ìš”.

    $ npm i -g @nestjs/cli

ì„¤ì¹˜ê°€ ì •ìƒì ìœ¼ë¡œ ë˜ì—ˆë‹¤ë©´ ì´ì œ í”„ë¡œì íŠ¸ í´ë”ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. project-name ì€ ì›í•˜ì‹œëŠ”ë°ë¡œ í•˜ë©´ ë©ë‹ˆë‹¤.
ì €í¬ëŠ” nestjs-practice ë¼ê³  ì§€ì–´ë³´ì£ .

    $ nest new nestjs-practice

íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ëŠ” npm ì„ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤. (ê·¸ëŒ€ë¡œ ì—”í„° ëˆŒëŸ¬ì£¼ë©´ ë©ë‹ˆë‹¤.)

## ğŸ‘“êµ¬ì¡° ì‚´í´ë³´ê¸°

    src
      app.controller.spec.ts
      app.controller.ts
      app.module.ts
      app.service.ts
      main.ts

src í´ë”ì—ëŠ” ì•±ì˜ ì½”ë“œë“¤ì´ ëª¨ì—¬ìˆë‹¤ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.
ê° ì—­í• ì„ ë³´ìë©´

- app.controller.**spec**.ts : spec ì´ ë¶™ì€ íŒŒì¼ë“¤ì€ **í…ŒìŠ¤íŠ¸ íŒŒì¼**ì…ë‹ˆë‹¤. ì§€ê¸ˆì€ ë¬´ì‹œí•˜ì…”ë„ ë©ë‹ˆë‹¤.
- app.**controller**.ts : ì•±ì˜ request ì™€ response ë¥¼ ë‹´ë‹¹í•˜ëŠ” **ë¼ìš°íŒ…** ê´€ë ¨ íŒŒì¼ì…ë‹ˆë‹¤.
- app.**module**.ts : ì•±ì„ êµ¬ì„±í•˜ëŠ” **êµ¬ì¡°**ì˜ ë©”íƒ€ë°ì´í„°ë¥¼ ë‹´ë‹¹í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
- app.**service**.ts : ì•±ì˜ **ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§**ì„ ë‹´ë‹¹í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.

ì•ìœ¼ë¡œ ëª¨ë“  ì•±ì˜ êµ¬ì„±ìš”ì†Œë“¤ì€ ìœ„ì™€ ê°™ì€ í˜•íƒœë¡œ ë§Œë“¤ì–´ì§ˆê±°ì—ìš”!!

ìµœìƒì˜ í´ë”ì˜ ë‹¤ë¥¸ íŒŒì¼ë“¤ì€ êµ¬ì„± ìš”ì†Œë¥¼ ë‹´ë‹¹í•˜ëŠ” ë…€ì„ì´ì—ìš”.
ì˜ˆë¥¼ ë“¤ë©´ typescript í™˜ê²½ì„¤ì • íŒŒì¼ ë˜ëŠ” íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ê´€ë¦¬íŒŒì¼ ê°™ì€ ê²ƒë“¤ì´ì—ìš”.!!

## ğŸ”¨ê¸°ëŠ¥ ë§Œë“¤ì–´ë³´ê¸°

**nest cli** ëŠ” ì •ë§ ìœ ìš©í•œ ê¸°ëŠ¥ë“¤ì„ ë§ì´ ì§€ì›í•©ë‹ˆë‹¤.
**nest generate** ê¸°ëŠ¥ì„ ì´ìš©í•˜ë©´ ìì£¼ ì‚¬ìš©í•˜ëŠ” ìš©ë„ì˜ í…œí”Œë¦¿ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë‹¤ìŒì€ **nest generate | g** ë¥¼ ì´ìš©í•´ ë§Œë“¤ ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ë“¤ì…ë‹ˆë‹¤.

      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ name          â”‚ alias       â”‚ description                                  â”‚
      â”‚ application   â”‚ application â”‚ Generate a new application workspace         â”‚
      â”‚ class         â”‚ cl          â”‚ Generate a new class                         â”‚
      â”‚ configuration â”‚ config      â”‚ Generate a CLI configuration file            â”‚
      â”‚ controller    â”‚ co          â”‚ Generate a controller declaration            â”‚
      â”‚ decorator     â”‚ d           â”‚ Generate a custom decorator                  â”‚
      â”‚ filter        â”‚ f           â”‚ Generate a filter declaration                â”‚
      â”‚ gateway       â”‚ ga          â”‚ Generate a gateway declaration               â”‚
      â”‚ guard         â”‚ gu          â”‚ Generate a guard declaration                 â”‚
      â”‚ interceptor   â”‚ in          â”‚ Generate an interceptor declaration          â”‚
      â”‚ interface     â”‚ interface   â”‚ Generate an interface                        â”‚
      â”‚ middleware    â”‚ mi          â”‚ Generate a middleware declaration            â”‚
      â”‚ module        â”‚ mo          â”‚ Generate a module declaration                â”‚
      â”‚ pipe          â”‚ pi          â”‚ Generate a pipe declaration                  â”‚
      â”‚ provider      â”‚ pr          â”‚ Generate a provider declaration              â”‚
      â”‚ resolver      â”‚ r           â”‚ Generate a GraphQL resolver declaration      â”‚
      â”‚ service       â”‚ s           â”‚ Generate a service declaration               â”‚
      â”‚ library       â”‚ lib         â”‚ Generate a new library within a monorepo     â”‚
      â”‚ sub-app       â”‚ app         â”‚ Generate a new application within a monorepo â”‚
      â”‚ resource      â”‚ res         â”‚ Generate a new CRUD resource                 â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì˜ˆë“¤ ë“¤ë©´

    nest g module catiscute

ìœ„ ëª…ë ¹ì–´ëŠ” catiscute ë¼ëŠ” ëª¨ë“ˆì„ ìë™ìœ¼ë¡œ ìƒì„±í•´ì¤ë‹ˆë‹¤. ì–´ë•Œìš” ì •ë§ ìœ ìš©í•˜ì£ ? !!

ìì•„ì•„ì•„ ì €ê¸° ì €ê¸° **CRUD** ë³´ì´ì‹œë‚˜ìš”? **resource** ë¼ëŠ” ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì‹œë©´ CRUD ì— í•„ìš”í•œ í…œí”Œë¦¿ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.!!!!!
ìš°í›„ ~ ë°•ìˆ˜ë°•ìˆ˜ ì§„ì§œ ì–´ë©”ì´ì§• í•©ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ ì´ ëª…ë ¹ì–´ë¡œ ë°”ë¡œ í…œí”Œë¦¿ ì–»ëŠ” ê±°ëŠ” ì§„ì§œ ë†€ë¼ìš´ê±°ì—ìš”!!

ì´ì œ users ë¼ëŠ” CRUD ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ë³´ì£ .

    nest g res users

ë¥¼ ì…ë ¥í•´ë´…ì‹œë‹¤. ì™€ìš° í´ë” ë³´ì´ì‹œë‚˜ìš”?? !! ë³´ì´ì‹œë‚˜ìš”!!!
í•œ ê°€ì§€ ë” ë§í•˜ìë©´ **app.module.ts** íŒŒì¼ì— ìë™ìœ¼ë¡œ **UsersModule** ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.!!!
ì™€ **ë¯¸ì³ë”° ë¯¸ì³ë”°**... ì§„ì§œ í¸ë¦¬í•˜ë‹¤ ... ğŸ™€

ìš°ë¦¬ëŠ” ì´ì œ ìœ ì €ì— ê´€í•œ ê¸°ë³¸ì ì¸ CRUD ê¸°ëŠ¥ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìš°í›„~

í•œ ë²ˆ ì•±ì„ ì‹¤í–‰í•´ë³¼ê¹Œìš”??

    npm run start

ì–´ë ?!?!? ì €ëŠ” ì´ëŸ° ì—ëŸ¬ê°€ ë–³ìŠµë‹ˆë‹¤. nest ê°€ ìƒì„±í•´ì¤€ íŒŒì¼ì— ìš°ë¦¬ê°€ ì„¤ì¹˜í•˜ì§€ ì•Šì€ node ëª¨ë“ˆì´ ìˆë‚˜ë³´ë„¤ìš”!!

    1 import { PartialType } from '@nestjs/mapped-types';
                                  ~~~~~~~~~~~~~~~~~~~~~~

ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„¤ì¹˜í•´ì£¼ìêµ¬ìš”!!

    npm install @nestjs/mapped-types --save

ì„¤ì¹˜ê°€ ë˜ë©´ ë‹¤ì‹œ

    npm run start

ìœ í›„~ ì´ë²ˆì—” ì—ëŸ¬ê°€ ì—†ìŠµë‹ˆë‹¤!!!!! ë¡œê·¸ë¥¼ ë³´ì‹œë©´

    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [NestFactory] Starting Nest application...
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [InstanceLoader] AppModule dependencies initialized +24ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [InstanceLoader] UsersModule dependencies initialized +2ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RoutesResolver] AppController {}: +8ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RouterExplorer] Mapped {, GET} route +4ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RoutesResolver] UsersController {/users}: +1ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RouterExplorer] Mapped {/users, POST} route +0ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RouterExplorer] Mapped {/users, GET} route +9ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RouterExplorer] Mapped {/users/:id, GET} route +0ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RouterExplorer] Mapped {/users/:id, PUT} route +1ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [RouterExplorer] Mapped {/users/:id, DELETE} route +0ms
    [Nest] 35604   - 2021-01-22 11:31:13 â”œF10: AMâ”¤   [NestApplication] Nest application successfully started +2ms

**RouteExplorer** ë¥¼ ë³´ì‹œë©´ **users** ì— ê´€ë ¨ëœ ë§¤í•‘ë“¤ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!!

ì´ì œ í¸í•˜ì‹  ë¸Œë¼ìš°ì €ë¥¼ í‚¤ì‹œê³  <http://localhost:3000> ë¡œ ì ‘ì†í•˜ì‹œë©´!!

> ì•„ë¬´ëŸ° ì„¤ì • ì•ˆí•˜ì…¨ìœ¼ë©´ ì•±ì˜ ê¸°ë³¸ í¬íŠ¸ëŠ” 3000 ì…ë‹ˆë‹¤!!

**Hello World!**
ì‚¬ì‹¤ ì´ í˜ì´ì§€ë¥¼ ë³´ëŠ”ê²Œ ëª©ì ì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë§í¬ ë’¤ì— /users ë¥¼ ì…ë ¥í•´ë´…ì‹œë‹¤

ê°€ë³´ìêµ¬ìš”!! <http://localhost:3000/users>
**This action returns all users**

ê°€ë³´ìêµ¬ìš”!! <http://localhost:3000/users/1>
**This action returns a #1 user**

ëª¨ì•¼ëª¨ì•¼~ ë²Œì¨ ëœê±°ì•¼? ìš°ë¦¬ ë­ í•œê²ƒë„ ì—†ëŠ”ë°??

nest ì •ë§ í¸í•œ ê¸°ëŠ¥ë“¤ì´ ë§ìŠµë‹ˆë‹¤. ë‹¤ë§Œ ìš°ë¦¬ê°€ ì›í•˜ëŠ”ê±´ ë‹¨ìˆœíˆ ì €ëŸ° ë¬¸ìê°€ ì•„ë‹ˆë¼ ì§„ì§œ ìœ ì € ì •ë³´ê² ì£ ?

ë‹¤ìŒ ì‹œê°„ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°í•´ì„œ ì§„ì§œ ìœ ì € ì •ë³´ë¥¼ ë§Œë“¤ê³  ê°€ì ¸ì˜¤ê³  ìˆ˜ì •í•˜ê³  ì‚­ì œí•˜ê³ ë¥¼ ë°°ì›Œë³´ê² ìŠµë‹ˆë‹¤.

## ğŸ”¨ ì¢€ ë” ì‚´í´ë³´ê¸°

ì ê·¼ë° ìš°ë¦¬ ì—¬ê¸°ì„œ ë§ˆì¹˜ë©´ ì¢€ ì°ì°í•˜ì–ì•„ìš”? ê·¸ëŸ¬ì…”ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ´ê±°ì—ìš”. ê·¸ë˜ì„œ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤!!

ì½”ë“œì™€ êµ¬ì¡°ë¥¼ ì¡°ê¸ˆ ë” ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

    users
        â”‚  users.controller.spec.ts
        â”‚  users.controller.ts
        â”‚  users.module.ts
        â”‚  users.service.spec.ts
        â”‚  users.service.ts
        â”‚
        â”œâ”€dto
        â”‚      create-user.dto.ts
        â”‚      update-user.dto.ts
        â”‚
        â””â”€entities
                user.entity.ts

**spec** ì´ ë¶™ì€ íŒŒì¼ì€ **í…ŒìŠ¤íŠ¸ íŒŒì¼**ì…ë‹ˆë‹¤. ë‹¤ìŒì— í…ŒìŠ¤íŠ¸ í•  ë•Œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤!

dto ì— ê´€í•œ ë‚´ìš©ê³¼ entities ì— ê´€í•œ ë‚´ìš©ì€ ë‹¤ìŒë²ˆì— ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°í•˜ê³  ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ service, controller, module ì— ëŒ€í•´ì„œ í•œë²ˆ ì‚´í´ë³´ì£ .

#### ğŸ”Service

**Service** íŒŒì¼ì€ ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” íŒŒì¼ì´ë¼ê³  í–ˆìŠµë‹ˆë‹¤. **UserService** í´ë˜ìŠ¤ ì•ˆì„ ì‚´í´ ë³´ì‹œë©´
create, findAll, findOne, update, remove í•¨ìˆ˜ë“¤ì´ ìˆìŠµë‹ˆë‹¤.
ì—¬ê¸°ì„œ ë¦¬í„´í•˜ëŠ” ë¬¸ìì—´ì´ ìš°ë¦¬ê°€ ë¸Œë¼ìš°ì €ì—ì„œ ë³¸ ë¬¸ìë“¤ì´ì£ ?

ê·¸ë¦¬ê³  í´ë˜ìŠ¤ ìœ„ì— **@Injectable()** ì´ë¼ëŠ” **Decorator** ê°€ ìˆìŠµë‹ˆë‹¤.

> Decorator ëŠ” ê¸°ëŠ¥ì„ í™•ì¥í•  ë•Œ ì“°ì¼ ìˆ˜ ìˆëŠ” ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤.
> [ë°ì½”ë ˆì´í„° íŒ¨í„´ì´ ë­”ê°€ìš”?](https://www.typescriptlang.org/docs/handbook/decorators.html)

Injectable ë°ì½”ë ˆì´í„°ëŠ” ë‹¤ë¥¸ í´ë˜ìŠ¤ì— **constructor** ë¥¼ í†µí•´ ì´ í´ë˜ìŠ¤ë¥¼ Inject í•˜ê¸° ìœ„í•œ ë°ì½”ë ˆì´í„°ë¡œ **DI(Dependency Injection)** ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì“°ì…ë‹ˆë‹¤.

Controller íŒŒì¼ì„ ë³´ë©´ ë” ì´í•´ê°€ ì˜ ë ê²ë‹ˆë‹¤!

#### ğŸŒ­Controller

**Controller** íŒŒì¼ì€ **ë¼ìš°íŒ…**ì„ ì²˜ë¦¬í•˜ëŠ” íŒŒì¼ì…ë‹ˆë‹¤.
ì¼ë‹¨ UsersController í´ë˜ìŠ¤ ì•ˆì— constructor ë¥¼ ë³´ì‹œë©´. **userService** ì˜ **íƒ€ì…ë§Œ ì§€ì •**í–ˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  create í•¨ìˆ˜ì—ì„œ ì´ **this.userService.create ë¥¼ í˜¸ì¶œ**í•˜ê³  ìˆëŠ”ë°ìš”.

ì´ê²Œ ì–´ë–»ê²Œ ê°€ëŠ¥í•œ ê²ƒì´ëƒë©´ ë°”ë¡œ **Nest ì˜ í›Œë¥­í•œ DI ì‹œìŠ¤í…œ** ë•Œë¬¸ì…ë‹ˆë‹¤.

> DI ëŠ” ê°„ë‹¨í•˜ê²Œ NestJS ì˜ í‹€ì— ë§ê²Œ ìš°ë¦¬ê°€ ì–´ë–¤ ê°’ì„ ì§€ì •í•´ì£¼ë©´ NestJS ê°€ ì•Œì•„ì„œ ì»¨íŠ¸ë¡¤ í•´ì£¼ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.ìš°ë¦¬ UserService ë¶€ë¶„ì—ì„œ Injectable ë°ì½”ë ˆì´í„°ë¥¼ í†µí•´ UserService ë¥¼ Injectable í•œ provider ë¡œ ì§€ì •í–ˆìŠµë‹ˆë‹¤.ë”°ë¼ì„œ UserController í´ë˜ìŠ¤ ë‚´ì˜ constructor ì—ì„œ ë‹¨ìˆœíˆ userService ì˜ íƒ€ì…ì„ UserService ë¡œ ì§€ì •í•´ì¤Œìœ¼ë¡œì„œNestJSê°€ ì•Œì•„ì„œ this.userService ì˜ **ìƒì„±ê³¼ ì†Œë©¸ì„ ê´€ë¦¬**í•˜ê²Œ ë©ë‹ˆë‹¤.

ì™€ ë¯¸ì³ë”° ë¯¸ì³ë”°!!! ì •ë§ í¸í•˜ë‹¤!!

ì•„ì§ ëª‡ ê°€ì§€ ë” ë´ì•¼í•  ê²ƒì´ ìˆìŠµë‹ˆë‹¤.

ë°”ë¡œ **@Controller** ë°ì½”ë ˆì´í„° ì…ë‹ˆë‹¤. ë°ì½”ë ˆì´í„°ì—ì„œ "users" ë¼ê³  ì§€ì •í•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤. ì´ ë§ì€ ë°”ë¡œ!

**/users ë¼ëŠ” ì£¼ì†Œë¡œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ì´ í´ë˜ìŠ¤ì—ì„œ ì²˜ë¦¬í•˜ê² ë‹¤**

ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” UserController ë¥¼ app ëª¨ë“ˆì— ê°”ë‹¤ ë¶™ì˜€ìœ¼ë‹ˆ ì£¼ì†ŒëŠ” localhost:3000/users ê°€ ë˜ê² ì£ ??.

ì´í›„ UsersController ë‚´ì˜ í•¨ìˆ˜ë¥¼ ë³´ë©´

@Post, @Get, @Put, @Delete ë°ì½”ë ˆì´í„°ë“¤ì´ ë³´ì…ë‹ˆë‹¤.

ì´ë¦„ì—ì„œë„ ìœ ì¶”í•  ìˆ˜ ìˆë“¯ì´ **/users ì— í•´ë‹¹í•˜ëŠ” ë©”ì„œë“œë¡œ ë“¤ì–´ì˜¤ë©´ ì´ í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬í•˜ê² ë‹¤.** ë¼ëŠ” ëœ» ì…ë‹ˆë‹¤.

users ì´í›„ ë§¤í•‘ë„ ì§€ì •í•  ìˆ˜ ìˆëŠ”ë°ìš”.
@Get(":id") ë¼ëŠ” ë°ì½”ë ˆì´í„°ëŠ” **/users/:id ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ ì´ í•¨ìˆ˜ì—ì„œ ì²˜ë¦¬í•˜ê²Ÿë‹¤** ë¼ëŠ” ëœ» ì…ë‹ˆë‹¤.

ì •ë§ ì§ê´€ì ì´ì£ ?? ìš°í›„~

> **':'** ë¡œ ì‹œì‘í•˜ëŠ” ë¬¸ìì—´ì€ íŒŒë¼ë©”í„°ë¼ëŠ” ê°’ìœ¼ë¡œ ì¸ì‹í•˜ê² ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
> findOne ì„ ë³´ì‹œë©´ í•¨ìˆ˜ ì¸ì ê°’ì— @Param('id') ì´ë¼ëŠ” ë°ì½”ë ˆì´í„°ë¥¼ ë¶™ì—¬ :id ìœ„ì¹˜ì˜ ê°’ì„ id ë¼ëŠ” ê°’ì— í• ë‹¹í•˜ëŠ” ê³¼ì •ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ë¹„ìŠ·í•˜ê²Œ **@Body** ë°ì½”ë ˆì´í„°ëŠ” request body ì˜ ë‚´ìš©ì„ ë³€ìˆ˜ì— í• ë‹¹í•˜ê² ë‹¤ëŠ” ëœ» ì…ë‹ˆë‹¤.

ì •ë§ ì‰½ë‹¤ì‰½ë‹¤!!

#### ğŸ¥£Module

UsersModule í´ë˜ìŠ¤ëŠ” ì´ users ë¼ëŠ” í´ë” ì•ˆì˜ **ëª¨ë“ˆì„ ê´€ë¦¬**í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
ì´ ëª¨ë“ˆì˜ **controllers** ëŠ” UsersController í´ë˜ìŠ¤ë¥¼ í†µí•´ ê´€ë¦¬í•˜ê² ë‹¤!
ì´ ëª¨ë“ˆì˜ **providers** ëŠ” UserService í´ë˜ìŠ¤ë¥¼ í†µí•´ ê´€ë¦¬í•˜ê² ë‹¤ !!

> ì˜ ë³´ì‹œë©´ ë°°ì—´ì˜ ê°’ì´ë¯€ë¡œ ë³µìˆ˜ì˜ ê°’ì„ í• ë‹¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!!

ì´ UsersModule ì„ app ëª¨ë“ˆì—ì„œ imports í•˜ê³  ìˆê¸° ë•Œë¬¸ì— app ì´ UserModule ì„ ì¸ì‹í•  ìˆ˜ ìˆë˜ ê²ƒ ì…ë‹ˆë‹¤!!

ë‹¤ë¥¸ ê°’ì— ëŒ€í•´ì„œëŠ” ì´í›„ í¬ìŠ¤íŠ¸ì—ì„œ ë‹¤ë£¨ê² ìŠµë‹ˆë‹¤.

---

ì ì—¬ëŸ¬ë¶„ ì •ë§ ì‰½ê³  ì§ê´€ì ìœ¼ë¡œ ë˜ì–´ìˆì§€ ì•Šë‚˜ìš”? ì œê°€ NestJS ë¥¼ ì¢‹ì•„í•˜ê²Œ ëœ ì´ìœ  ì´ê¸°ë„ í•©ë‹ˆë‹¤.!!

ë‹¤ìŒì—ëŠ” Postgresql ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì´ìš©í•´ ì§„ì§œ user ì •ë³´ë¥¼ ì €ì¥í•´ë³´ìêµ¬ìš”!

í”¼ë“œë°±ì€ í•­ìƒ í™˜ì˜ì…ë‹ˆë‹¤!!
