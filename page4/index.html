<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     영원 &middot; 웹 개발과 일상
    
  </title>

  
  <link rel="canonical" href="https://tocktock.github.io/page4/" />
  

  <link rel="stylesheet" href="https://tocktock.github.io/public/css/poole.css" />
  <link rel="stylesheet" href="https://tocktock.github.io/public/css/syntax.css" />
  <link rel="stylesheet" href="https://tocktock.github.io/public/css/lanyon.css" />

  <link rel="stylesheet" href="/assets/css/styles.css" />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"
  />

  <link
    rel="apple-touch-icon-precomposed"
    sizes="144x144"
    href="https://tocktock.github.io/public/apple-touch-icon-precomposed.png"
  />
  <link rel="shortcut icon" href="https://tocktock.github.io/public/favicon.ico" />

  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://tocktock.github.io/atom.xml"
  />

  <!-- <script>
    (function (i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "//www.google-analytics.com/analytics.js",
      "ga"
    );
    ga("create", "UA-178749172-1", "auto");
    ga("send", "pageview");
  </script> -->
</head>


  <body>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" />

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item description">
    <p>Developer with Cat</p>
  </div>

  <nav class="sidebar-nav">
    <a
      class="sidebar-nav-item active"
      href="https://tocktock.github.io/"
      >Home</a
    >
                
    <div>
      <a
        class="sidebar-nav-item"
        href="https://tocktock.github.io/about/"
        >About me</a
      >
                 
    <div>
      <a
        class="sidebar-nav-item"
        href="https://tocktock.github.io/categories/"
        >Categories</a
      >
      
      <ul class="sidebar-categories">
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/Algorithms"
            >Algorithms (27)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/elasticsearch"
            >elasticsearch (8)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/Jekyll"
            >Jekyll (1)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/NestJS"
            >NestJS (1)</a
          >
        </li>
        
      </ul>
                                                       
    </div>

    <a class="sidebar-nav-item" href="https://github.com/Tocktock/tocktock.github.io">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span>
  </nav>

  <div class="sidebar-item">
    <p>&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">영원</a>
            <small>웹 개발과 일상</small>
          </h3>
        </div>
      </div>

      <div class="container content"><div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-CRUD/"> elasticsearch 기본사용법 (CRUD !!) </a>
    </h1>

    <span class="post-date">13 Dec 2020</span>

    <p>#[🌎elasticsearch] Elasticsearch CRUD 기본사용법 (feat. Kibana)</p>

<hr />

<ul>
  <li>
    <p><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<h3 id="elasticsearch-의-기본-기능-crud-기능을-한번-살펴보겠습니다">ElasticSearch 의 기본 기능 CRUD 기능을 한번 살펴보겠습니다!.</h3>

<blockquote>
  <p>ElasticSearch 의 search 와 Bulk 기능은 이후 포스트에서 다루겠습니다.</p>
</blockquote>

<h2 id="-crud-는-">👓 CRUD 는 ??</h2>

<ul>
  <li>Create</li>
  <li>Read</li>
  <li>Update</li>
  <li>Delete</li>
</ul>

<p>ElasticSearch 에서는 REST APIs 안의 Document APIs 에서 해당 내용을 다루고 있습니다.</p>

<h2 id="-들어가기-전에">🔎 들어가기 전에!!</h2>

<ul>
  <li>
    <p>Index</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ElasticSearch 의 Index 는 흔히 아는 배열의 인덱스와는 다르게 데이터베이스의 테이블과 유사한 개념을 가지고 있습니다.

  같은 NoSQL MongoDB 의 Collector 와 비슷하다고 생각하시면 편합니다.
</code></pre></div>    </div>
  </li>
  <li>
    <p>HTTP 프로토콜</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ElasticSearch 는 http 프로토콜로 접근제어가 가능합니다.
</code></pre></div>    </div>
  </li>
  <li>
    <p>RESTFul</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  PUT, POST, GET, DELETE 메소드를 통해 자원을 제어할 수 있습니다.
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="-kibana-dev-tool">😎 Kibana Dev Tool</h2>

<p>기본적으로 리눅스의 Curl 기능 또는 vscode 의 rest client 등의 기능과 같이 URL을 이용해 자원에 접근제어를 할 수도 있지만 우리가 저번시간에 설치한 Kibana 의 Dev Tool 기능을 통해 Elastic 환경을 실습해보도록 하겠습니다.</p>

<p>정상적으로 Kibana 가 설치되고 실행이 되고 있다면 <a href="http://localhost:5601">http://localhost:5601</a> 에 접속하면 Kibana 어플리케이션 메인화면이 기다리고 있어요!!</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/kibana_main.png" width="70%" alt="테마선택" /></p>

<p>좌측 상단의 메뉴 버튼을 누른후 아래쪽의 Dev Tools 로 들어가줍니다.</p>

<p><br />
<img class="post-image-center" src="/assets/img/elasticSearch-CRUD/stack_management.png" width="30%" alt="테마선택" /></p>

<p><br /><br /></p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/devTools_main.png" width="70%" alt="테마선택" /></p>

<p>Dev Tools 콘솔에서 좌측에서 Curl 과 비슷한 기능을 수행하고 우측에서 그 결과를 볼 수 있습니다.</p>

<h2 id="-create">🔨 Create</h2>

<p>일단 데이터베이스에서도 자원을 저장하고 사용하기 위해서 테이블을 만들듯이 ElasticSearch 에서도 이에 해당하는 Index 를 생성해줘야 합니다.</p>

<p>Index 생성에는 <strong>PUT</strong> 메소드를 사용하여 요청을 해야합니다.</p>

<blockquote>
  <p>일반적으로 생성에는 POST 갱신에는 PUT 메소드를 사용하지만 ElasticSearch 에서는 둘을 모호하게 사용합니다.</p>
</blockquote>

<p>mydoc 이라는 Index 를 생성해봅시다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>     PUT mydoc
</code></pre></div></div>

<p>위의 텍스트를 Dev Tools 콘솔 좌측에 입력후 해당 줄에 생기는 ▶ 이렇게 생긴 삼각형 버튼을 누르면 해당하는 요청이 전송됩니다.</p>

<blockquote>
  <p>Dev Tools 에서는 http://<호스트>:<포트>/ 가 생략되어 있습니다.
즉 위의 요청은 원래대로라면 PUT http://localhost:5601/mydoc 입니다. Dev tools 에서는 이 사항이 동일시 적용됩니다.</포트></호스트></p>
</blockquote>

<p>바로 아래 이어서 첫 데이터를 생성해봅시다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    POST mydoc/_doc
    {
    "title" : "first Title",
    "contents" : "first contents"
    }
</code></pre></div></div>

<p>우측에 바로</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/fourth_result.png" width="30%" alt="테마선택" /></p>

<p>위와 같은 형식의 결과 데이터가 보인다면 성공입니다. 우측상단에 201 status 코드와 해당 요청을 수행하는데 걸린 시간 또한 표시가 됩니다.</p>

<p>저는 second, third 가 들어가는 데이터를 두개 더 만들었습니다.</p>

<blockquote>
  <p>POST <인덱스>/\_doc/<아이디> 처럼 아이디를 명시하지 않으면 임의로 아이디를 생성하게 됩니다.
해당하는 아이디가 존재할 경우 **생성**이 아니라 **갱신**을하게 되므로 조심해야 합니다.
또한 PUT 메소드를 통해 PUT <인덱스>/\_create/<아이디> 처럼 생성만 가능하게도 할 수 있씁니다.</아이디></인덱스></아이디></인덱스></p>
</blockquote>

<p>이제 확인을 해봅시다. 😎😎</p>

<p>좌측 상단의 메뉴 - 하단의 Stack Management 를 클릭합니다.</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/stack_management.png" width="30%" alt="테마선택" /></p>

<p>좌측 중간즈음 Kibana 카테고리 아래 Index Patterns 를 클릭합니다.
우리가 보려는 Index 를 명시하기 위해 Create Index pattern 을 클릭합니다.</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/index_pattern_mydoc.png" width="70%" alt="테마선택" /></p>

<p>Index pattern name 칸에 mydoc 을 입력하고 Next Step 을 클릭합니다.</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/index_pattern_step2.png" width="70%" alt="테마선택" /></p>

<p>우리가 만든 데이터에는 시간 데이터가 없기 때문에 아무것도 선택하지 않아도 생성됩니다.
시간 데이터가 한 개 이상이라면 시간별로 데이터를 추적할 수 있습니다.
Create Index Pattern 을 클릭합시다.</p>

<p>이제 좌측 메뉴를 클릭 메뉴 상단의 Kibana - Discover 탭을 선택합니다.</p>

<p>여기서 우리가 위에서 입력했던 Index 의 데이터들이 나타나게 됩니다.</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/three_hits.png" width="70%" alt="테마선택" /></p>

<p>데이터를 생성하는 것은 이제 끝났습니다.</p>

<h2 id="-read">🔨 Read</h2>

<p>Read 는 매우 단순합니다!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    GET mydoc/_doc/cdRVaXYBNC5Keng2JJce
</code></pre></div></div>

<p>위와 같이 GET <인덱스>/\_doc/<아이디> 형식으로 요청을 하게 되면 해당하는 데이터가
결과값으로 나오게 됩니다.!!</아이디></인덱스></p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/get_firstdoc.png" width="30%" alt="테마선택" /></p>

<p>우하우하!우하!
자료가 없으면 not found가 뜨게 됩니다!! 여기까지 하느라 고생많으셨습니다.
이제 얼마 안남았으니 영차영차! 😁😁😁😁</p>

<blockquote>
  <p>full-text-search 기능인 키워드를 통해 자료를 찾는 search 기능은 다음포스트에서 다루겠습니다.!!</p>
</blockquote>

<h2 id="-update">🔨 Update</h2>

<p>이번에는 Update 기능을 수행해보겠습니다.</p>

<p>Update 는 PUT 메소드를 사용하여 수행할 수 있습니다.
second Title 자료의 id를 복사하여 다음과 같은 형태의 요청을 만들어줍니다.
해당하는 Id 가 존재할 경우 데이터 전체를 업데이트하게 됩니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    PUT mydoc/_doc/ctRWaXYBNC5Keng2Dpfm
    {
    "title" : "updated second title",
    "contents" : "updated second contents"
    }
</code></pre></div></div>

<p>성공하면 아래과 같이 result 에 updated 라는 결과값이 표시됩니다.</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/updateDoc_result.png" width="30%" alt="테마선택" /></p>

<p>Kibana 의 Discover 탭을 보게 되면</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/updated_second_discover.png" width="70%" alt="테마선택" /></p>

<p>우하! 행복하군요 Update 가 성공된 것을 확인할 수 있습니다.!!</p>

<h2 id="-delete">🔨 Delete</h2>

<p>마지막입니다.!! 이것만 알면 CRUD 기능은 끝 입니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    DELETE mydoc/_doc/ctRWaXYBNC5Keng2Dpfm
</code></pre></div></div>

<p>바로 실행!!</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/remove_fourthDoc_result.png" width="30%" alt="자료 삭제" /></p>

<blockquote>
  <p>삭제 결과 연산을 캡처 하는 것을 깜빡해서 데이터를 하나 더 만들고 다시 삭제해서 이전과 아이디가 다릅니다. ㅜㅜ</p>
</blockquote>

<p>위와 같이 result 의 값으로 deleted가 뜨면 성공!!!!</p>

<p>여러분 만남이 있으면 끝도 있는법.</p>

<p>마지막으로 Index 님을 삭제 해드립시다. 잘가 … 😭😭😭😭</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    DELETE mydoc
</code></pre></div></div>

<p>삭제… 요청…
<img class="post-image-center" src="/assets/img/elasticSearch-CRUD/deleteDoc.png" width="50%" alt="자료 삭제" /></p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-CRUD/deleteDoc_result.png" width="30%" alt="자료 삭제" /></p>

<p>성공…</p>

<p>이후 Discover 탭에 어떠한 자료도 추적하지 못하게되었습니다.. 흐극</p>

<p>와우 커피 한잔 하면서 같이 따라해보셨나요. 생각보다 간단합니다.
다음에는 <strong>Search</strong> 님과 함께 통해 다시 찾아오겠습니다.!!</p>

<p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs.html">더 많은 자료 보러 공식홈페이지 가기!!</a></p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-Kibana-install/"> elasticsearch Kibana install !! </a>
    </h1>

    <span class="post-date">10 Dec 2020</span>

    <p>#[🌎elasticsearch] Elasticsearch Kibana install (ubuntu 20.04)!!</p>

<hr />
<ul>
  <li>
    <p><a href="https://esbo21ok.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<p>😁😁  nibana 라는 것을 설치할겁니다!!
이전 포스트에서 정상적으로 ElasticSearch 를 설치하셨다면
<a href="http://localhost:9200">http://localhost:9200</a> 에 접속하셨을 때 json 형식의 데이터가 보인다면 준비는 완료된 것입니다.</p>

<blockquote>
  <p>아직 ElasticSearch를 설치 안하셨다면 ?? <a href="https://tocktock.github.io/elasticsearch/elasticsearch-install/">🛴Elastic 설치하기!🛴</a></p>
</blockquote>

<h2 id="-먼저-kibana-는">👓 먼저 Kibana 는?</h2>

<p>ElasticSearch 홈페이지에서는 Kibana 를 Elastic Stack 을 들여다보는 창!! 이라고 강조하며 소개하고 있습니다.!!</p>

<p>여기서 Elastic Stack이란?</p>

<ul>
  <li>ElasticSearch : Query 담당 !!</li>
  <li>Logstash : 수집 담당 !!</li>
  <li>Kibana : 시각화 담당 !!</li>
</ul>

<p>그 중 Kibana 는 데이터를 표현하고 보여주는 역할을 합니다.
단순히 보여주는게 아니라 분석하고, 정리하고 사람이 보기 쉽게 만들어줍니다!. 
물론 Kibana 에서 SQL 문을 이용하여 데이터를 수집도 가능합니다!!</p>

<p>Elastic Stack 은 위의 세가지를 연동하여 사용하는 Stack 으로 ELK 라고 줄여서도 부릅니다.🥽🥽
아주 훌륭한 분들이 정말 좋은 시스템을 만들어놨군요 ~~</p>

<p>우리는 여기서 Kibana 를 오늘 설치해볼겁니다.!!
LogStash는 다음에 또 알아봅시다~</p>

<h2 id="-사실-키바나-설치는-어렵지-않습니다">🔑 사실 키바나 설치는 어렵지 않습니다.</h2>

<blockquote>
  <p>$ sudo apt install kibana</p>
</blockquote>

<p>끝 입니다.</p>

<p>다음 명령을 입력해 Kibana 를 실행합시다.</p>

<blockquote>
  <p>$ service kibana start</p>
</blockquote>

<p>다음 명령을 입력해 kibana 실행 상태를 확인합니다.</p>

<blockquote>
  <p>$ service kibana status</p>
</blockquote>

<p>정상적으로 Kibana 가 실행중이라면 <a href="http://localhost:5601">http://localhost:5601</a> 를 통해 앱을 확인하실 수 있습니다.</p>

<p>끝 입니다. 다음에는 Kibana 의 dev tool 을 이용해서 REST API 의 기본인 CRUD 기능을 
배워보겠습니다. ! ! !
커피 한 잔 스윽 타서 준비합시다!!</p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-install/"> elasticsearch 설치하기 (Ubuntu 20.04) </a>
    </h1>

    <span class="post-date">06 Nov 2020</span>

    <p>#[🌎elasticsearch] Elasticsearch 설치하기 (Ubuntu 20.04)</p>

<hr />
<ul>
  <li>
    <p><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<h2 id="-잠깐만-이거-했니">👓 잠깐만 이거 했니??!!</h2>

<p>다음과 같은 사항이 필요합니다.</p>
<ul>
  <li>Ubuntu 20.04 버전이 깔려 있는 OS</li>
  <li>듀얼코어 이상의 cpu 와 4gb 이상의 램
    <blockquote>
      <p>원활한 실행을 위해 필요하며 필수는 아닙니다.</p>
    </blockquote>
  </li>
</ul>

<blockquote>
  <p>ElasticSearch는 자바로 만들어졌기 때문에 JDK 가 설치되어야 하지만 ElasticSearch를 설치하면서 JDK 가 같이 깔리게 됩니다. 자바 문제가 발생한다면 지원하는 JDK를 다시 깔고 JAVA_HOME 변수를 다시 설정해주세요. <a href="https://www.elastic.co/kr/support/matrix#matrix_jvm">Elasticsearch JDK 버전 확인하기 ✈</a></p>
</blockquote>

<hr />

<h2 id="-따라와">🥽 따라와</h2>
<blockquote>
  <p>설치과정은 ElasticSearch 7.x 버전을 기준으로 합니다. 버전이 다르면 수행이 다를 수 있습니다.</p>
</blockquote>

<h3 id="step-1---설-치-하-자">Step 1 - 설 치 하 자</h3>
<ul>
  <li>Ubuntu 에서는 ElasticSearch 컴포넌트가 기본적으로 이용이 불가능합니다. 하지만 apt 명령으로 설치 후 Elastic 의 패키지를 설치한다면 이용 가능합니다.</li>
  <li>ElasticSearch는 너를 사랑해서 Elastic 인증키로 서명이 되어 있습니다.(보안을 위해서라는 뜻) 키를 통해 인증받은 패키지들은 모두 사용가능합니다.</li>
  <li>설치를 위해 다음을 실행하여 Elastic Public GPG 키를 추가해주세요
    <blockquote>
      <table>
        <tbody>
          <tr>
            <td>$ curl -fsSL https://artifacts.elastic.co/GPG-KEY-elasticsearch</td>
            <td>sudo apt-key add -</td>
          </tr>
        </tbody>
      </table>
    </blockquote>
  </li>
  <li>sources.list.d 폴더에 Elastic 소스리스트를 추가해주세요! APT 가 새로운 소스를 찾아야하거든요!! (다음 입력하라는 뜻)
    <blockquote>
      <table>
        <tbody>
          <tr>
            <td>$ echo “deb https://artifacts.elastic.co/packages/7.x/apt stable main”</td>
            <td>sudo tee -a /etc/apt/sources.list.d/elastic-7.x.list</td>
          </tr>
        </tbody>
      </table>
    </blockquote>
  </li>
  <li>package lists 들을 업데이트 해야겠죠?
    <blockquote>
      <p>$ sudo apt update</p>
    </blockquote>
  </li>
  <li>드디어 설치!
    <blockquote>
      <p>$ sudo apt install elasticsearch</p>
    </blockquote>
  </li>
</ul>

<p>두둔</p>

<h3 id="step-2---설-정-하-자">Step 2 - 설 정 하 자</h3>

<ul>
  <li>로컬 머신에서 돌리기 위해서 약간의 수정이 필요하답니다!
ElasticSearch 는 elasticsearch.yml 에서 설정 관리되고 있습니다. (열어라는 뜻)</li>
</ul>

<blockquote>
  <p>$ sudo nano /etc/elasticsearch/elasticsearch.yml</p>

  <ul>
    <li>내려 내려 내려 내려 (다음 과 같은 영역을 찾아라는 뜻) 그리고 바꿔 (: 이후에 내용을 원하는 값을 설정합니다.)</li>
  </ul>
</blockquote>

<blockquote>
  <p># ———————————- Network ———————————–
#
# Set the bind address to a specific IP (IPv4 or IPv6):
#
network.host: localhost
. . .</p>
</blockquote>

<blockquote>
  <p><strong>주의</strong> yml 파일은 포맷이 매우 중요합니다 ‘ : ‘ 다음에 반드시 뛰어쓰기를 해야합니다.</p>
</blockquote>

<hr />

<h3 id="step-3---실-행-하-자">Step 3 - 실 행 하 자</h3>

<ul>
  <li>systemctl 명령으로 실행해봅시다.</li>
  <li>초기 수행에 시간이 걸리니 잠시 기다려주세.
    <blockquote>
      <p>$ sudo systemctl start elasticsearch</p>
    </blockquote>
  </li>
  <li>한번 확인해볼까요?
    <blockquote>
      <p>$ service elasticsearch status</p>
    </blockquote>
  </li>
  <li>위의 명령을 입력후, active running 단어가 보이면 정상 실행중이라는 겁니다. 램 많이 잡아먹네요.</li>
  <li>이제 컴퓨터가 켜질 때마다 자동으로 실항하게 해줍니다.
    <blockquote>
      <p>$ sudo systemctl enable elasticsearch</p>
    </blockquote>
  </li>
</ul>

<h3 id="step-4---확-인-하-자">Step 4 - 확 인 하 자</h3>
<ul>
  <li>별도로 포트 설정을 안했다면 <a href="http://localhost:9200">http://localhost:9200</a> 으로 접속하면 json 형식으로 값이 뜨면 성공!!
    <h2>😁</h2>
  </li>
</ul>

<p>고생하셨습니다!!</p>

<p>기본적인 사용법에 대해서는 다음 포스트에서 ~</p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-introduction/"> elasticsearch 소개 </a>
    </h1>

    <span class="post-date">04 Nov 2020</span>

    <p>#[🌎elasticsearch] Elasticsearch이란?</p>

<hr />
<ul>
  <li>
    <p><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<h2 id="-전문검색full-text-search">👓 전문검색(Full-Text-Search)</h2>

<p>네이버 및 구글에서 원하는 문서를 검색하면 잘 나옵니다.
어떻게 이런게 가능할까요 ???</p>

<p>전문검색(Full-Text-Search 이하 FTS)은 검색 단어를 입력하면 해당하는 문서와 <strong>“관련 깊은”</strong> 자료를 보여주게 됩니다.</p>

<p>단순한 문자열 일치 연산으로는 네이버나 구글의 검색과 같은 결과를 보여주기는 어렵습니다.
따라서 FTS 에서는 모든 문서의 단어와 문장을 검색하여 점수를 매기게됩니다. 
이 과정에서는 머신러닝과 같은 자연어 처리 과정이 포함되게 됩니다.</p>

<p>당연히 모든 문서의 단어와 문장을 검색하고 점수를 매긴 후 점수 순서대로 보여주기 때문에 
기존의 문자열 일치 연산보다 복잡한 연산을 하게 됩니다.</p>

<p>다시 말하자면 전문검색은 우리가 원하는 문서와 <strong>관련깊은</strong> 문서들을 보여주는 기술이라 생각하시면 됩니다.</p>

<hr />

<h2 id="-elasticsearch">🥽 ElasticSearch</h2>

<p>FTS 기능은 분석 엔진으로 제공될 수도 있고 DBMS에 기능이 탑재될 수도 있습니다.</p>

<p>Lucene, Solr, ElasticSearch 등 다양한 분석 엔진이 있고 
Mongodb, Postgresql, AzureSQLDatabase 등 다양한 DBMS에서도 지원하고 있으니 더 검색해보는 걸 추천드립니다.</p>

<p>그 중에 ElasticSearch 를 소개하려고 합니다.</p>

<p>ElasticSearch 는 FTS 를 지원하는 오픈소스 검색 및 분석 엔진입니다.
Apache Lucene을 기반으로 구축되었으며 다음과 같은 사항들을 강조합니다.</p>
<ul>
  <li><strong>빠르다.</strong> Lucene을 기반으로 구축되었기 때문에 빠르며, 실시간에 가까운 속도를 보여줍니다.</li>
  <li><strong>분산적이다.</strong> 샤드라고 하는 저장형태로 여러 컨테이너에 걸쳐 분산, 복제되어 저장되기 때문에 분산적이라고 할 수 있습니다.</li>
  <li><strong>간소화된 데이터</strong> Beats와 Logstash, Kibana 를 통해 데이터를 실시간으로 시각화하며 로그, 인프라 메트릭 데이터에 신속히 접속가능합니다.</li>
</ul>

<p>ElasticSearch 는 또한 다음 언어를 위해서 클라이언트가 공식적으로 지원합니다.</p>
<ul>
  <li>자바</li>
  <li>자바스크립트</li>
  <li>Go</li>
  <li>.NET(C#)</li>
  <li>PHP</li>
  <li>Pearl</li>
  <li>Python</li>
  <li>
    <h2 id="ruby">Ruby</h2>
  </li>
</ul>

<h2>😁</h2>

<p>프로젝트를 진행하면서 Full Text Search 기능이 필요하여 찾다가 ElasticSearch 를 찾게 되었고
ElasticSearch 에 흥미를 가지게 되었네요.</p>

<p>저보다 정리를 잘한 가이드북이 있으니 꼭 보시길 추천드립니다.</p>
<ul>
  <li><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></li>
</ul>

<p>다음 시간에는 ElasticSearch 를 Ubuntu에 설치하는 방법으로 찾아뵙겠습니다.</p>


    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/algorithms/algorithms-programmers-3NTiling/"> 프로그래머스 연습문제 3 x N 타일링 풀이 </a>
    </h1>

    <span class="post-date">01 Nov 2020</span>

    <p>#[프로그래머스✈][연습문제] 3 x N 타일링 풀이</p>

<hr />

<ul>
  <li><a href="https://programmers.co.kr/learn/courses/30/lessons/12902">문제풀러가기✈</a></li>
</ul>

<hr />

<h2 id="-문제-요약">👓 문제 요약</h2>

<p>유명한 DP 문제 2 x N 타일링의 업그레이드 버전</p>

<p><strong>이젠 세로의 길이가 2가 아니라 3이다!!</strong></p>

<p>DP 공식을 잘 유도하면 쉽게 풀 수 있다!!</p>

<blockquote>
  <p>자세한 문제 설명과 제한 사항은 프로그래머스 홈페이지 참고. <a href="https://programmers.co.kr/learn/courses/30/lessons/12902">문제풀러가기</a></p>
</blockquote>

<h2 id="-문제-풀이">🔑 문제 풀이</h2>

<p>dp 공식을 유도해야하는데 순서대로 잘 그려보면 알 수 있다.
일단 n이 홀수면 타일링을 할 수 없으므로 답은 0 이다.</p>

<p>그려보면</p>
<ul>
  <li>n : 2 일 때 답은 3</li>
  <li>n : 3 일 때 답은 0</li>
  <li>n : 4 일 때 답은 11 이다.</li>
  <li>n : 6 일 때는 답이 41 이다. (너무 많이 그려야해서 찾아봤다)</li>
  <li>n : 8 일 때는 답이 153 이다. (너무 많이 그려야해서 찾아봤다)</li>
</ul>

<p><strong>n 이 4</strong>일 때를 생각해보자.</p>

<ul>
  <li>3X2 타일링 의 방법의 수 * 3X2 타일링의 방법의 수 = 9</li>
  <li>n 이 4일 때만 만들 수 있는 방법 2를 더하면 <strong>11</strong>가지의 경우가 있다.
    <blockquote>
      <p>(ㅣ = ㅣ 이런식으로 가운데 가로 타일을 놓는 것)</p>
    </blockquote>
  </li>
</ul>

<p><strong>n 이 6</strong>일 때를 생각해보자.</p>

<ul>
  <li>3X4 타일링의 방법의 수 * 3X2 타일링의 방법의 수 = 33
    <blockquote>
      <p>(3X4 에는 3X2와 3X2로 만들 수 있는 모든 경우의 수가 포함되어 있다.)</p>
    </blockquote>
  </li>
  <li>n 이 6일 때만 만들 수 있는 타일의 수 2</li>
  <li>또 생각 해야할 것이 3 x 2 의 타일링의 방법의 수 * 2 와 3 X 4 만이 만들 수 있는 타일의 경우 2가지를 곱한 것을 더한다. = 6
    <blockquote>
      <p>왜냐하면 3X4 타일링의 방법의 수 * 3X2 타일링의 방법의 수를 할 때 오른쪽 4칸을 포함하는 오직 3X4만이 만들 수 있는 2가지 경우의 수는 들어가있지 않기 때문이다.</p>
    </blockquote>
  </li>
</ul>

<p><strong>n 이 8</strong> 일 때는</p>
<ul>
  <li>위와 마찬가지로 3X6 일때 타일링의 방법의 수 * 3X2 일 때 타일링의 방법의 수 = 123</li>
  <li>n 이 8일 때만 만들 수 있는 경우 : 2</li>
  <li>3X2 일 때 타일링의 방법의 수 * 3X6일 때만 만들 수 있는 타일링의 수 = 6</li>
  <li>3X4 일 때 타일링의 방법의 수 * 3X4일 때만 만들 수 있는 타일링의 수 = 22</li>
</ul>

<p>감이 오는가?? 3XN 을 타일링 할 때는</p>
<ul>
  <li>3X(n-2) * 3X2 를 곱한 값</li>
  <li>n 일 때만 만들 수 있는 2가지 경우</li>
  <li>3X2 * (3X(n-2)일 때만 만들 수 있는 경우 2개)</li>
  <li>3X4 * (3X(n-4)일 때만 만들 수 있는 경우 2개)<strong>….</strong>  앞의 수가 3X(n-2)에 해당할 때까지 해주면 된다.</li>
</ul>

<p>다시 말하면</p>
<ul>
  <li>N-2 일때 경우의 수 * 3(3X2타일링의 방법의 수)</li>
  <li>N일 때만 만들 수 있는 경우 2개</li>
  <li>N-2k(k = 1,2,3….) N-2k가 N-2 가 될 때까지의 수 각각에 2를 곱한 값을 더해주면 된다.</li>
</ul>

<h2 id="-소스코드-및-소스해석">🥽 소스코드 및 소스해석</h2>

<blockquote>
  <p>프로그래머스 사이트가 아닌, visual studio 에서 코드를 작성해서 그대로 가져온 것 입니다. 일부 테스트 코드가 존재합니다.</p>
</blockquote>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;string&gt;
#include &lt;vector&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="c1">//풀이</span>
<span class="c1">//ex n = 8</span>
<span class="c1">//더해야할 것</span>
<span class="c1">//answer(6) * answer(2)</span>
<span class="c1">//answer(2) * 2 (n 이 6일때만 존재하는 2개의 경우)</span>
<span class="c1">//answer(4) * 2 (n 이 4일때만 존재하는 2개의 경우)</span>

<span class="c1">//dp1의 인덱스는0 부터 시작되며 n이 2씩 증가할 때 마다의 값이 저장됨 n이 2,4,6,8 ....일 때</span>
<span class="c1">//dp2는 인덱스 0 부터 인덱스 n - 2 까지의 각각의 값 *2 의 합이 저장.</span>

<span class="kt">long</span> <span class="kt">long</span> <span class="n">dp1</span><span class="p">[</span><span class="mi">4096</span><span class="p">];</span>
<span class="kt">long</span> <span class="kt">long</span> <span class="n">dp2</span><span class="p">[</span><span class="mi">4096</span><span class="p">];</span>
<span class="kt">int</span> <span class="nf">solution</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">solution</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">solution</span><span class="p">(</span><span class="kt">int</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">dp1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
    <span class="n">dp1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>
    <span class="n">dp2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">dp1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dp1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">dp2</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="mi">1000000007</span><span class="p">;</span>
        <span class="n">dp2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">dp1</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">dp2</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="o">%</span> <span class="mi">1000000007</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">dp1</span><span class="p">[</span><span class="n">n</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="-문제-후기">🔨 문제 후기</h2>

<p>디피는 어렵다. 단순한 문제 일 수록 더욱 어렵다.</p>

<p>생각을 많이하고 시간을 많이 소요하는 문제들도 생각보다 많다.</p>

<p>화이팅!</p>

    <hr />
  </div>
  
</div>

<div class="pagination">
  
  <a
    class="pagination-item older"
    href="https://tocktock.github.io/page5"
    >Older</a
  >
    
  <a
    class="pagination-item newer"
    href="https://tocktock.github.io/page3"
    >Newer</a
  >
   
</div>
</div>
  
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src="/public/js/script.js"></script>
  </body>
</html>
