<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />

  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />

  <title>
     영원 &middot; 웹 개발과 일상
    
  </title>

  
  <link rel="canonical" href="https://tocktock.github.io/page5/" />
  

  <link rel="stylesheet" href="https://tocktock.github.io/public/css/poole.css" />
  <link rel="stylesheet" href="https://tocktock.github.io/public/css/syntax.css" />
  <link rel="stylesheet" href="https://tocktock.github.io/public/css/lanyon.css" />

  <link rel="stylesheet" href="/assets/css/styles.css" />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400"
  />

  <link
    rel="apple-touch-icon-precomposed"
    sizes="144x144"
    href="https://tocktock.github.io/public/apple-touch-icon-precomposed.png"
  />
  <link rel="shortcut icon" href="https://tocktock.github.io/public/favicon.ico" />

  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="https://tocktock.github.io/atom.xml"
  />

  <!-- <script>
    (function (i, s, o, g, r, a, m) {
      i["GoogleAnalyticsObject"] = r;
      (i[r] =
        i[r] ||
        function () {
          (i[r].q = i[r].q || []).push(arguments);
        }),
        (i[r].l = 1 * new Date());
      (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m);
    })(
      window,
      document,
      "script",
      "//www.google-analytics.com/analytics.js",
      "ga"
    );
    ga("create", "UA-178749172-1", "auto");
    ga("send", "pageview");
  </script> -->
</head>


  <body>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" />

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item description">
    <p>Developer with Cat</p>
  </div>

  <nav class="sidebar-nav">
    <a
      class="sidebar-nav-item active"
      href="https://tocktock.github.io/"
      >Home</a
    >
                
    <div>
      <a
        class="sidebar-nav-item"
        href="https://tocktock.github.io/about/"
        >About me</a
      >
                 
    <div>
      <a
        class="sidebar-nav-item"
        href="https://tocktock.github.io/categories/"
        >Categories</a
      >
      
      <ul class="sidebar-categories">
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/Algorithms"
            >Algorithms (28)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/Jekyll"
            >Jekyll (1)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/elasticsearch"
            >elasticsearch (9)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/NestJS"
            >NestJS (4)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/DevTip"
            >DevTip (1)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/nodejs"
            >nodejs (2)</a
          >
        </li>
         
        <li class="sidebar-categories-item">
          <a href="https://tocktock.github.io/categories/redux"
            >redux (1)</a
          >
        </li>
        
      </ul>
                                                                           
    </div>

    <a class="sidebar-nav-item" href="https://github.com/Tocktock/tocktock.github.io">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span>
  </nav>

  <div class="sidebar-item">
    <p>&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">영원</a>
            <small>웹 개발과 일상</small>
          </h3>
        </div>
      </div>

      <div class="container content"><div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-explore-folder/"> Elasticsearch 폴더에는 뭐가 있을까?? </a>
    </h1>

    <span class="post-date">14 Jan 2021</span>

    <p>#[🌎elasticsearch] Elasticsearch 폴더에는 뭐가 있을까??</p>

<hr />

<ul>
  <li>
    <p><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<h2 id="-elasitcsearch-폴더-구조">🧡 ElasitcSearch 폴더 구조</h2>

<p>쉬어가는 느낌으로 ElasticSearch 의 directory 구조를 한번 살펴보도록 하겠습니다.</p>

<p>ElasticSearch의 폴더로 한번 가보죠!</p>

<p><img class="post-image-center" src="/assets/img/elasticSearch-folder/전체화면.png" width="60%" alt="folder구조" /></p>

<blockquote>
  <p>저는 elk라는 폴더에 elasticsearch 와 관련된 폴더들을 모아두었습니다.</p>
</blockquote>

<h2 id="bin-폴더">📒Bin 폴더</h2>

<p>bin 폴더 안에는 elasticsearch-cli, elasticsearch-sql-cli, elasicsearch-plugin 등등</p>

<p>elasticsearch 기능의 핵심적인 스크립트 들이 있습니다.</p>

<blockquote>
  <p>건들지마세용 …..</p>
</blockquote>

<p>x-pack 부분은 elasticsearch 의 플러그인(보안, 알림, 모니터링, 보고, 그래프 등)들을 버전에 맞게 묶은 패키지라고 생각하시면 됩니다.!! elasticsearch를 알리게 만든 기능들의 집합체라고 생각합시다.!!</p>

<h2 id="config-폴더">📒Config 폴더</h2>

<h4 id="elasticsearchyml">elasticsearch.yml</h4>

<p>이 파일에서 elasticsearch 의 전반적인 환경을 설정할 수 있습니다. 메모장이나 에디터로 켜시면</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code># ---------------------------------- Cluster -----------------------------------
#
# Use a descriptive name for your cluster:
#
#cluster.name: my-application
#
</code></pre></div></div>

<p>cluster.name 옆에 #을 지우시고 cluster.name : <원하는 이름=""> 을 쓰시면 클러스터 이름을 설정할 수 있습니다.</원하는></p>

<blockquote>
  <p>클러스터와 노드에 대한 내용은 이후 포스트에서 자세하게 다루겠습니다.</p>
</blockquote>

<p>그 밑에 node, paths, memory, network, Discovery 가 있습니다.</p>

<ul>
  <li>paths 에서는 데이터, 로그가 저장되는 위치를 지정할 수 있습니다.</li>
  <li>memory 에서는 다른 자바프로그램이 엘라스틱 서치의 힙 영역의 메모리를 사용하지 못하도록 lock 을 걸 수 있습니다.
    <blockquote>
      <p>memory 사용량 제한은 jvm.option 파일에서 힙사이즈를 조정함으로서 디테일하게 설정가능합니다.</p>
    </blockquote>
  </li>
  <li>network 에서는 어떤 ip의 어떤 port 번호로 elasticsearch에 접근 할 지 설정가능합니다.</li>
  <li>discovery 에서는 elasticsearch 에 얼마나 많은 인스턴스들이 연결 되는지 설정가능합니다.</li>
</ul>

<h4 id="jvmoptions">jvm.options</h4>

<p>이 파일에서는 elasticsearch 에 허용해줄 메모리 크기를 설정해줄 수 있습니다. 기본은 1기가바이트 입니다. 메모리 외의 내용에 대해서는 전문가가 아니면 건들지 맙시다 …</p>

<h4 id="log4j2properties">log4j2.properties</h4>

<p>여기는 elasticsearch 의 로그 관련 파일로, log4j2는 java 의 가장 강력한 logging 프레임워크중 하나입니다.</p>

<h2 id="modules-폴더">📒modules 폴더</h2>

<p>여기는 완전히 elasticsearch 의 기능에 도움을 주는 built-in module 들이 모여있는 곳입니다.
많은 x-pack 폴더들이 보이시죠~ ?</p>

<h2 id="plugins-폴더">📒plugins 폴더</h2>

<p>이 폴더는 우리가 elasticsearch 에 custom 플러그인을 추가할 때 사용하는 폴더입니다.</p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/algorithms/algorithms-leetcode-15/"> leetcodd 15 3sum 문제풀기 </a>
    </h1>

    <span class="post-date">14 Jan 2021</span>

    <p>#[leetcode][15] 3sum 문제풀기!</p>

<hr />

<ul>
  <li><a href="https://leetcode.com/problems/3sum">문제풀러가기✈</a></li>
</ul>

<hr />

<h2 id="-문제-요약">👓 문제 요약</h2>

<p>숫자를 엄청 줄게!!
숫자 3개를 뽑아서 그 숫자들의 합이 0 이 되는 부분집합좀 찾아줘!</p>

<blockquote>
  <p>자세한 문제 설명과 릿코드 홈페이지 참고. <a href="https://leetcode.com/problems/3sum">문제풀러가기</a></p>
</blockquote>

<h2 id="-문제-풀이">🔑 문제 풀이</h2>

<p>숫자 세개를 뽑아서… 0 을 만드는지 확인하면 된다!.
다만 3개 전부 완전탐색을 돌려버리게 된다면 타임아웃이 뜨지 않을까?
주어진 조건에서 숫자의 개수는 최대 3천개라 했으니 아마 타임아웃이 뜰거 같다.</p>

<h4 id="그래서-제가-어떻게-풀었냐면-">그래서 제가 어떻게 풀었냐면 !!</h4>

<p>일단 숫자 세개의 합이 0이 되어야하니, 숫자들을 정렬하고 최저의 수를 선택하고 이 숫자와
다른 숫자 2개를 선택했을 때 0이 되는 경우를 구했습니다. !!!!! <strong>빠밤!!</strong></p>

<p>저희는 최저의 수를 선택했기 때문에 해당 숫자보다 오른쪽에 있는 수는 무조건 선택된 숫자보다 크다는 겁니다.!!</p>

<p>그리고 숫자 두개를 정할껀데,</p>

<ul>
  <li>하나는 최저 숫자보다 한 단계 크거나 같은수</li>
  <li>다른 하나는 가장 큰 수</li>
</ul>

<p>를 선택해서
선택지의 폭을 줄여나가는 겁니다.</p>

<p>만약 세 개를 더했는데 0보다 크다? 그러면 가장 큰 수를 가르키는 포인트를 한 단계 낮은 숫자로 옮깁니다.
만약 세 개를 더했는데 0보다 작다? 그러면 선택된 최저의 수를 가지고는 0을 만들 수 없습니다.</p>

<blockquote>
  <p>선택된 숫자를 제외하고 가장 작은 수와 가장 큰 수를 더했기 때문</p>
</blockquote>

<p>만약 세개를 더했는데 0이랑 같다? 정답에 추가합니다.</p>

<p>자자자자 <strong>요약</strong>해줄게요 !</p>

<ul>
  <li>최저의 수 선택 - selected 라 하겠습니다.</li>
  <li>최저의 수와 같은 또는 한 단계 큰 수를 가르키는 포인트 - 그 숫자를 left라 하겠습니다.</li>
  <li>최대의 수를 가르키는 포인트 - 그 숫자를 right라 하겠습니다.</li>
  <li>selected + left + right === 0 -&gt; 답에 추가!</li>
  <li>selected + left + right &lt; 0 -&gt; selected 의 숫자로는 더이상 0을 만들 수가 없음!</li>
  <li>selected + left + right &gt; 0 -&gt; right 의 숫자를 한 단계 낮춰줌 !!</li>
</ul>

<p>이 것을 반복하시면 됩니다. 반복은 컴퓨터가 하기 때문에 마음껏 돌려주세요!</p>

<p>다만 중복을 피하기 위해 포인트를 옮길 때는 같은 수는 전부 지나쳐주세요!!</p>

<h2 id="-소스코드-및-소스해석">🥽 소스코드 및 소스해석</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">threeSum</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">nums</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">answer</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">let</span> <span class="nx">selected</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">left</span> <span class="o">=</span> <span class="nx">selected</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">right</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="nx">answer</span><span class="p">;</span>
  <span class="nx">nums</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span><span class="p">);</span>
  <span class="k">while</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">left</span> <span class="o">!==</span> <span class="nx">right</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span><span class="p">]</span> <span class="o">+</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span> <span class="o">+</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">answer</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span><span class="p">],</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">],</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]]);</span>
      <span class="k">while</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">right</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="nx">right</span><span class="o">--</span><span class="p">;</span>
      <span class="k">while</span> <span class="p">(</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="nx">left</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">right</span><span class="o">--</span><span class="p">;</span>
      <span class="nx">left</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span><span class="p">]</span> <span class="o">+</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span> <span class="o">+</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">while</span> <span class="p">(</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span><span class="p">]</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">left</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="nx">left</span><span class="o">++</span><span class="p">;</span>
      <span class="nx">left</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="k">while</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">right</span><span class="p">]</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">right</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="nx">right</span><span class="o">--</span><span class="p">;</span>
      <span class="nx">right</span><span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">right</span> <span class="o">&lt;=</span> <span class="nx">left</span><span class="p">)</span> <span class="p">{</span>
      <span class="p">[</span><span class="nx">selected</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">]</span> <span class="o">=</span> <span class="nx">setValue</span><span class="p">(</span><span class="nx">selected</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">,</span> <span class="nx">nums</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">answer</span><span class="p">;</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">setValue</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selected</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">,</span> <span class="nx">nums</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span><span class="p">]</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span><span class="p">]</span> <span class="o">===</span> <span class="nx">nums</span><span class="p">[</span><span class="nx">selected</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
      <span class="nx">selected</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">selected</span><span class="o">++</span><span class="p">;</span>
  <span class="nx">left</span> <span class="o">=</span> <span class="nx">selected</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
  <span class="nx">right</span> <span class="o">=</span> <span class="nx">nums</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">return</span> <span class="p">[</span><span class="nx">selected</span><span class="p">,</span> <span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">];</span>
<span class="p">};</span>
</code></pre></div></div>

<h2 id="-문제-후기">🔨 문제 후기</h2>

<p>자잘한 조건 때문에 오래걸린 문제!!</p>

<p>나는 정말 숫자에 약한 것 같다 ㅜㅜ 다들 화이팅!!</p>

<p>코드를 깔끔하게 정리하는 법좀 배워야할 듯 싶다.</p>

<p>릿코드 상당히 괜찮은 사이트 같습니다!</p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/algorithms/algorithms-programmers-connectLand/"> 프로그래머스 연습문제 섬 연결하기 </a>
    </h1>

    <span class="post-date">13 Jan 2021</span>

    <p>#[프로그래머스✈][연습문제] 섬 연결하기 풀이</p>

<hr />

<ul>
  <li><a href="https://programmers.co.kr/learn/courses/30/lessons/42861">문제풀러가기✈</a></li>
</ul>

<hr />

<h2 id="-문제-요약">👓 문제 요약</h2>

<p>섬을 연결해!! 최소비용으로!</p>

<p>뭐? 어디서 본 거 같은데 ??</p>

<h4 id="최소신장트리mst-">최소신장트리(MST) !!</h4>

<blockquote>
  <p>자세한 문제 설명과 제한 사항은 프로그래머스 홈페이지 참고. <a href="https://programmers.co.kr/learn/courses/30/lessons/42861">문제풀러가기</a></p>
</blockquote>

<h2 id="-문제-풀이">🔑 문제 풀이</h2>

<p>최소신장트리를 푸는 유명한 2가지 방법이 있다.</p>

<ul>
  <li>크루스칼 알고리즘</li>
  <li>프림 알고리즘</li>
</ul>

<blockquote>
  <p>솔직히 둘이 좀 헷갈린다. 최소비용 부터 시작하는게 크루스칼 이였나??? 프림인가??</p>
</blockquote>

<p>우리는 크루스칼 알고리즘 (포스트 적으면서 외움.)으로 한번 해보자!</p>

<blockquote>
  <p>더 쉽거든</p>
</blockquote>

<p>간략하게 크루스칼 알고리즘이 뭐냐면..</p>

<ul>
  <li>가장 적은 비용의 간선을 선택해서 이어나감.</li>
  <li><strong>🛑간선을 추가하게 되면 사이클이 형성될 경우 간선을 추가하지 않음🛑</strong></li>
</ul>

<p>사실 두번째 내용이 핵심이다.
제일 적인 비용의 간선은 정렬하고 추가해 나가면 되는데, 사이클의 유무를 따지는게 여간 귀찮은게 아니다.</p>

<p>나에게 가장 쉬운 방법은 간선을 추가할 때마다 노드들(여기선 섬)끼리 그룹화 하는 것이다.</p>

<blockquote>
  <p>다들 자신에게 편한 방법으로 하세용~</p>
</blockquote>

<p>그룹화해서 노드를 연결 했을 때 같은 그룹에 속해있나 아닌가만 따지면 된다.</p>

<p>예를 들어 다음과 같이 상황이 놓여져 있다고 생각하자</p>

<p>1 - 2 - 3 이 하나의 그룹이고 대표는 1이다.
4 - 5 - 6 이 하나의 그룹이고 대표는 4이다.</p>

<p>만약 노드4 와 노드6 의 간선이 있다고 생각하고 연결해보려고 하자.
노드4 의 대표는 노드4 이고, 노드6 의 대표도 노드4 이다. <strong>같은 그룹</strong>이라는 것이다.</p>

<p>만약 노드 5와 노드 6 을 연결하려고 하면 서로의 대표가 다르기 때문에 가능하다는 것이다!!!!!!!!!!!
이 경우 노드 4,5,6 의 대표를 바꾸어 주어야한다. 이렇게 숫자로 주어진 경우는 단순하게 대표 4의 값을 6으로 바꾸어주면 된다.</p>

<p>그럼 노드 6을 선택하면 그룹 대표인 노드 4, 다시 4의 대표는 노드 1 … 알겠지용,,?
6-&gt; 4-&gt; 1</p>

<blockquote>
  <p>노드가 숫자로 주어지면 이렇게 푸는게 나은거 같습니다!!</p>
</blockquote>

<h2 id="-소스코드-및-소스해석">🥽 소스코드 및 소스해석</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">128</span><span class="p">);</span>
<span class="kd">function</span> <span class="nx">solution</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">costs</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">answer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="nx">costs</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="nx">b</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
  <span class="p">});</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">index</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">group</span><span class="p">[</span><span class="nx">index</span><span class="p">]</span> <span class="o">=</span> <span class="nx">index</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">index</span> <span class="o">&lt;</span> <span class="nx">costs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">index</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">groupA</span> <span class="o">=</span> <span class="nx">travel</span><span class="p">(</span><span class="nx">costs</span><span class="p">[</span><span class="nx">index</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
    <span class="kd">let</span> <span class="nx">groupB</span> <span class="o">=</span> <span class="nx">travel</span><span class="p">(</span><span class="nx">costs</span><span class="p">[</span><span class="nx">index</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">groupA</span> <span class="o">===</span> <span class="nx">groupB</span><span class="p">)</span> <span class="k">continue</span><span class="p">;</span>
    <span class="nx">answer</span> <span class="o">+=</span> <span class="nx">costs</span><span class="p">[</span><span class="nx">index</span><span class="p">][</span><span class="mi">2</span><span class="p">];</span>
    <span class="nx">group</span><span class="p">[</span><span class="nx">groupA</span><span class="p">]</span> <span class="o">=</span> <span class="nx">groupA</span> <span class="o">&lt;</span> <span class="nx">groupB</span> <span class="p">?</span> <span class="nx">groupA</span> <span class="p">:</span> <span class="nx">groupB</span><span class="p">;</span>
    <span class="nx">group</span><span class="p">[</span><span class="nx">groupB</span><span class="p">]</span> <span class="o">=</span> <span class="nx">group</span><span class="p">[</span><span class="nx">groupA</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">answer</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">travel</span> <span class="o">=</span> <span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="o">===</span> <span class="nx">group</span><span class="p">[</span><span class="nx">n</span><span class="p">])</span> <span class="k">return</span> <span class="nx">n</span><span class="p">;</span>
  <span class="k">else</span> <span class="k">return</span> <span class="nx">travel</span><span class="p">(</span><span class="nx">group</span><span class="p">[</span><span class="nx">n</span><span class="p">]);</span>
<span class="p">};</span>

<span class="nx">solution</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="p">[</span>
  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
  <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
<span class="p">]);</span>
</code></pre></div></div>

<h2 id="-문제-후기">🔨 문제 후기</h2>

<p>오늘 코딩테스트 보고 나는 왜이리 멍청하지 하다가 이 문제를 풀고 희망을 가졌다.
나도 풀 수 있따!.</p>

<p>물론 저보다 더 잘하는 사람이 많을 것 입니다… 겸손하자…</p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-fulltextsearch/"> elasticsearch Search 기능 !! Full Text Search !! </a>
    </h1>

    <span class="post-date">06 Jan 2021</span>

    <p>#[🌎elasticsearch] Elasticsearch search 기본사용법 (feat. Kibana)</p>

<hr />

<ul>
  <li>
    <p><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<h2 id="-elasticsearch-의-진정한-기능-full-text-search">🧡 ElasticSearch 의 진정한 기능 Full Text Search!!</h2>

<p>이번에는 ElasticSearch 를 쓰는 이유중 하나인 전문검색 (Full Text Search) 의 간단한 기능을 알아보고자 합니다.
이 부분에 대해서는 내용이 워낙 방대하다보니 제 글은 맛보기 용으로 생각해주시고 <a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북</a> 을 더 참고해주시면 감사하겠습니다.!</p>

<h2 id="전문검색">👓전문검색?</h2>

<p>전문검색은 간단한 예시로 네이버의 검색, 구글의 검색 기능을 생각하시면 편합니다.
데이터베이스의 특징인 특정 단어의 포함 여부, 조건문의 기능과 유사하지만 특정 단어와의 상관관계에 대한 색인기능이 추가되어 있다고 생각하시면 됩니다.</p>

<p>글로만 읽어도 엄청 복잡합니다. 바로 예시 들어가겠습니다.
일단 ElasticSearch 와 Kibana 를 켜 주시고 Kibana DevTools 로 들어가주세요! 이전에 했으니 여러분 다 할 수 있습니다!</p>

<h2 id="-일단-해보자">😂 일단 해보자!</h2>

<p>먼저 이전에 배운 bulk 키워드를 통해 검색할 데이터를 먼저 생성합시다!!
copy copy~</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST _bulk
{ "index" : { "_index*" : "test", "_id" : "1" } }
{ "field1" : "i love my cute cat" }
{ "index" : { "_index" : "test", "_id" : "2" } }
{ "field1" : "my dog is so big" }
{ "index" : { "_index" : "test", "_id" : "3" } }
{ "field1" : "i am big" }
{ "index" : { "_index" : "test", "_id" : "4" } }
{ "field1" : "my girl friend is cute" }
</code></pre></div></div>

<p>제일 먼저 간단한 검색인 URI 검색부터!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET test/_search?q=dog
</code></pre></div></div>

<p>자 그럼 다음과 같은 결과가 나올겁니다!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
    "took" : 0,
    "timed_out" : false,
    "_shards" : {
        "total" : 1,
        "successful" : 1,
        "skipped" : 0,
        "failed" : 0
    },
    "hits" : {
        "total" : {
        "value" : 1,
        "relation" : "eq"
        },
        "max_score" : 1.1516262,
        "hits" : [
            {
                "_index" : "test",
                "_type" : "_doc",
                "_id" : "2",
                "_score" : 1.1516262,
                "_source" : {
                "field1" : "my dog is so big"
                }
            }
        ]
    }
}
</code></pre></div></div>

<p><strong>“hits”</strong> 필드를 주목합시다. 만약 해당 검색에서 아무런 결과가 없다면 이 필드안에는 아무 값이 없습니다.
<strong>“hits”</strong> 필드 안에 내용을 잘 보시면 <strong>_score</strong> 항목이 있습니다. 위에서 검색한 키워드인 “dog” 와 얼마나 상관관계가 있는지에 대한 점수 입니다. 정말 유용한 지표죠?</p>

<p>URI 검색은</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET &lt;index&gt;/_search=?q=&lt;value&gt;
</code></pre></div></div>

<p>와 같은 형태의 검색을 말합니다. Request Body 에 옵션을 붙여서 더 자세한 검색이 가능합니다.
다음 명령어는 test 인덱스의 field1 의 필드에서만 “dog” 를 검색하는 기능입니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET test/_search
{
    "query": {
        "match": {
        "field1": "dog"
        }
    }
}
</code></pre></div></div>

<p>만약 특정 인덱스의 모든 document 를 검색하고 싶다면 다음과 같이 해주세요!.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET my_index/_search
{
    "query":{
        "match_all":{ }
    }
}
</code></pre></div></div>

<hr />

<p>자자자 기본적인 기능을 배웠습니다.</p>

<p>다음에는 좀더 심화내용을 배워봅시다! 다음 내용을 보기 전에 커피 스윽~ 스트레칭 쭈욱 하고 오세용~🧡🧡</p>

    <hr />
  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="https://tocktock.github.io/elasticsearch/elasticsearch-bulk/"> elasticsearch 여러 데이터를 한번에 저장! Bulk!! </a>
    </h1>

    <span class="post-date">06 Jan 2021</span>

    <p>#[🌎elasticsearch] Elasticsearch bulk 기본사용법 (feat. Kibana)</p>

<hr />

<ul>
  <li>
    <p><a href="https://esbook.kimjmin.net/">Elasticsearch 가이드북 ✈</a></p>
  </li>
  <li>
    <p><a href="https://www.elastic.co/kr/what-is/elasticsearch">Elasticsearch 홈페이지 가기 ✈</a></p>
  </li>
</ul>

<hr />

<p>이번에는 쉬어가는 타임으로 bulk 기능을 알아보죠~!
하지만 반드시 <strong>필수 요소</strong>라는것 !!</p>

<h2 id="-bulk-one-shot">🚚🚚 Bulk One Shot!!</h2>

<p>ElasticSearch 의 여러 명령을 실행하기 위해서는 bulk 기능이 정말 편리합니다.
bulk 는 기본적인 CRUD 명령 수행이 가능합니다.</p>

<p>바로 예를 보시죠!</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>POST _bulk
{ "index" : { "_index" : "test", "_id" : "1" } }
{ "field1" : "value1" }
{ "delete" : { "_index" : "test", "_id" : "2" } }
{ "create" : { "_index" : "test", "_id" : "3" } }
{ "field1" : "value3" }
{ "update" : {"_id" : "1", "_index" : "test"} }
{ "doc" : {"field2" : "value2"} }
</code></pre></div></div>

<ul>
  <li>
    <p>bulk 기능은 POST 메소드로 “POST url/_bulk” 로 사용 가능합니다.</p>

    <blockquote>
      <p>kibana로 테스트 하시는 경우 url을 따로 지정안해주셔도 됩니다.
커맨드로 하시는 경우는 POST localhost:9200/_bulk 로 사용가능하십니다!</p>
    </blockquote>
  </li>
  <li>
    <p>이후에 <strong>Request Body</strong> 를 포함하여 요청을 전송해야합니다.</p>
    <ul>
      <li>create, index, update, delete 기능은 해당 키워드 안에 curly brace 로 묶습니다.</li>
      <li>curly brace 안에는 <strong>_index 로서 원하는 인덱스, _id로 원하는 id를 지정하여</strong> 기능을 수행할 수 있습니다.</li>
      <li>delete 를 제외한 create, index, update 다음에는 한 줄의 curly brace 단계가 더 있는데요. 이는 원하는 기능을 수행하기 위해 추가하는 필드입니다.</li>
      <li>index 와 create 의 경우에는 <strong>“field”</strong> 키워드가 필요합니다.</li>
      <li>update 의 경우에는 추가 필드에 <strong>“doc”</strong> 키워드를 이용해서 접근하셔야 합니다.</li>
    </ul>
  </li>
</ul>

<h2 id="속도는-">속도는 🚀🚀</h2>

<p>기본적으로 한 번의 대량의 명령 데이터를 실행할 때는 bulk 기능을 쓰는 것이 속도가 빠릅니다.
최적의 데이터 명령 수를 알기 위해서는 벤치마크를 이용하여 처음에는 100, 200, 400 으로 늘려가며 테스트 해보는 것을 추천드립니다!! 어느정도 늘렸을 때 속도가 이전 단계보다 매우 완화된 상태라면 그 전단계가 최적화된 명령 개수입니다.</p>

<p>너무 많은 명령 데이터를 사용하게 되면 클러스터의 메모리에 과부하를 주게되니 명심하세요!</p>

<p>정말 공부할 수록 훌륭한 검색엔진입니다. 웹 공부를 하시는 분은 ElasticSearch를 무조건 강추!! 하는바입니다 ^^</p>

    <hr />
  </div>
  
</div>

<div class="pagination">
  
  <a
    class="pagination-item older"
    href="https://tocktock.github.io/page6"
    >Older</a
  >
    
  <a
    class="pagination-item newer"
    href="https://tocktock.github.io/page4"
    >Newer</a
  >
   
</div>
</div>
  
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src="/public/js/script.js"></script>
  </body>
</html>
